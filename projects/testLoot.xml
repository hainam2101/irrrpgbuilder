<?xml version="1.0" encoding="ISO-8859-1" ?>
<IrrRPG_Builder_Project version="1.0">
    <terrain texture0="../media/L0.jpg" texture1="../media/L1.jpg" texture2="../media/L2.jpg" texture3="../media/L3.jpg" texture4="../media/L4.jpg" segments="1">
        <terrainSegment x="0" z="0" />
    </terrain>
    <dynamic_objects>
        <obj type="player" x="0.000000" y="0.000000" z="0.000000" rx="0.000000" ry="0.000000" rz="0.000000" sx="1.000000" sy="1.000000" sz="1.000000" template="" filename="../player/warrior_anims.b3d" script='-- This is a simple example for the player script&#x0A;-- By Christian Clavet, for the IRB project&#x0A;-- Implemented regenerative health in LUA, and a &quot;DEAD&quot; screen and game restart in multiple languages&#x0A;&#x0A;-- Init the variables scope&#x0A;tx_continue = &quot;&quot;&#x0A;tx_lose = &quot;&quot;&#x0A;&#x0A;function die()&#x0A;  showBlackScreen(tx_lose)&#x0A;  sleep(0.5)&#x0A;  showDialogQuestion(tx_continue)&#x0A;end&#x0A;&#x0A;function setStrings()&#x0A;-- Using the &quot;getLanguage&quot; command, we can get international strings in our game!&#x0A;-- text by default is english &#x0A;  tx_continue = &quot;Do you want to continue the game?&quot;&#x0A;  tx_lose = &quot;YOU LOSE!&quot;&#x0A;&#x0A;-- Support for Portugese  &#x0A;  if (getLanguage()==&apos;pt-br&apos;) then&#x0A;    tx_continue = &quot;Voce quer continuar o jogo?&quot;&#x0A;    tx_lose = &quot;VOCE PERDEU!&quot;&#x0A;  end&#x0A;  &#x0A; -- Support for Français &#x0A;  if (getLanguage()==&apos;fr-ca&apos;) then&#x0A;    tx_continue = &quot;Voulez-vous continuer le jeu?&quot;&#x0A;    tx_lose = &quot;VOUS PERDEZ!&quot;&#x0A;  end&#x0A;&#x0A; -- Support for German&#x0A;  if (getLanguage()==&apos;de-ge&apos;) then&#x0A;    tx_continue = &quot;Wollen Sie das Spiel fortsetzen?&quot;&#x0A;    tx_lose = &quot;SIE VERLIENREN!&quot;&#x0A;  end&#x0A;end&#x0A;&#x0A;function regen()&#x0A;  increasePlayerLife(getPropertie(&quot;regenlife&quot;))&#x0A;  regentoggle=false&#x0A;end&#x0A;&#x0A;function onAnswer()&#x0A;-- This happen when the question get answered&#x0A;-- There is not a stop game lua command atm, so answering no will ask the question again&#x0A;  if (getAnswer() == true) then   &#x0A;    hideBlackScreen()&#x0A;    setPlayerLife(100)&#x0A;&#x09;setAnimation(&quot;prespawn&quot;)&#x09;&#x0A;  end&#x0A;  dietoggle=false&#x0A;end&#x0A;&#x0A;function onLoad()&#x0A;  setSkydomeVisible(true) --Display or not the skydome&#x0A;  setPlayerLife(100)&#x0A;  regentoggle=false&#x0A;  dietoggle=false&#x0A;  setStrings()&#x0A;end&#x0A;&#x0A;function onUpdate()&#x0A;  if ( getPlayerLife() &lt; getPropertie(&quot;maxlife&quot;) and regentoggle==false) then&#x0A;      programAction(5,regen)&#x0A;      regentoggle=true&#x0A;  end&#x0A;  if ( getPlayerLife() == 0 and dietoggle==false) then&#x0A;    playSound(&quot;you_lose.mp3&quot;,false)&#x0A;    programAction(3,die)&#x0A;    dietoggle=true&#x0A;  end&#x0A;end&#x0A;&#x0A;&#x0A;&#x0A;' life="100" maxlife="100" mana="100" maxmana="100" level="1" XP="10" mindamage="3" maxdamage="10" hurtresist="50" dodgechance="16.000000" hitchance="60.000000" regenlife="1" regenmana="1" />
        <obj type="npc" x="-305.472198" y="-0.051098" z="-300.243591" rx="0.000000" ry="0.000000" rz="0.000000" sx="1.0000" sy="1.000" sz="1.000" template="frog" filename="npc/frog.b3d" script='local a = 0&#x0A;&#x0A;function setProperties()&#x0A;-- Using the new properties attributes, can set the NPC combat attributes. &#x0A;&#x09;setEnemy() -- this is an ennemy&#x0A;&#x09;setPropertie(&quot;life&quot;,10) -- current life of the NPC&#x0A;&#x09;setPropertie(&quot;maxlife&quot;,10) -- current Maximum life of this NPC&#x0A;&#x09;setPropertie(&quot;experience&quot;,5) -- given experience to attacker if killed&#x0A;&#x09;setPropertie(&quot;mindamage&quot;,2) -- minimum damage inflicted&#x0A;&#x09;setPropertie(&quot;maxdamage&quot;,4) -- maximum damage inflicted&#x0A;&#x09;setPropertie(&quot;hurtresist&quot;,50) -- resistance to attacks in %. If obtained, trigger the &quot;hurt&quot; animation then return to idle, breaking the current attack&#x0A;&#x09;setPropertie(&quot;hit_prob&quot;,60)&#x0A;&#x09;setPropertie(&quot;dodge_prob&quot;,12)&#x0A;end&#x0A;&#x0A;-- &quot;onClicked&quot; will trigger is the dynamic object is being clicked on by the user&#x0A;function onClicked()&#x0A;&#x09;print(&quot;Lua character is being clicked on!&quot;)&#x0A;end&#x0A;&#x0A;-- new game function&#x0A;-- &quot;onCollision&quot; will trigger if the dynamic object got a collision with something&#x0A;function onCollision()&#x0A;end&#x0A;&#x0A;-- &quot;step&quot; will trigger at each time interval (around 1/4 second)&#x0A;function onUpdate()&#x0A;  name = getName()..&quot;: &quot;..getPropertie(&quot;life&quot;)..&quot;/&quot;..getPropertie(&quot;maxlife&quot;)&#x0A;  if (getPropertie(&quot;life&quot;) == 0) then &#x0A;&#x09;hideObjectLabel()&#x0A;&#x09;return&#x0A;  end&#x0A;  local x,y,z = getObjectPosition(&quot;player&quot;)&#x0A;   if(distanceFrom(x,y,z) &lt; 288 and getPlayerLife()&gt;0) then &#x0A;    if(distanceFrom(x,y,z) &lt; 75) then&#x0A;&#x09;  --print(&quot;Frog now attack!&quot;)&#x0A;&#x09;  setAnimation(&quot;attack&quot;)&#x0A;&#x09;else&#x0A;      chaseObject(&quot;player&quot;,0.8,75,800)&#x0A;    end&#x0A;&#x09;setObjectLabel(name)&#x0A;    showObjectLabel()&#x0A;  else&#x0A;    hideObjectLabel()&#x0A;    walkRandomly()&#x0A;  end&#x0A;end&#x0A;&#x0A;-- &quot;onLoad&quot; will trigger when the dynamic object is initialized (only once)&#x0A;function onLoad()&#x0A;&#x09;setProperties()&#x0A;&#x09;blocked = false&#x0A;    addLoot(&quot;Small health potion&quot;)&#x0A;    addLoot(&quot;Small health potion&quot;)&#x0A;    addLoot(&quot;Big health potion&quot;)&#x0A;end&#x0A;&#x0A;' life="10" maxlife="10" XP="5" mindamage="2" maxdamage="4" hurtresist="50" dodgechance="12.000000" hitchance="60.000000" />
      <obj type="loot" x="-278.159363" y="0.000000" z="178.681763" rx="0.000000" ry="0.000000" rz="0.000000" sx="18.000000" sy="18.000000" sz="18.000000" template="Small health potion" filename="props/horse_food.b3d" script='-- Small potion script. Give 10HP when taken&#x0A;-- By Christian Clavet&#x0A;&#x0A;-- Called when the user click on the object or use the interaction button in proximity&#x0A;function onClicked()&#x0A;&#x09;-- When this object is clicked it will go inside the player backpack&#x0A;&#x09;addPlayerLoot()&#x0A;end&#x0A;&#x0A;-- Called when the USE button is pressed for this item in the inventory GUI&#x0A;function onUse()&#x0A;&#x09;-- potion is used and give 10HP more HP&#x0A;&#x09;increasePlayerLife(10)&#x0A;&#x09;&#x0A;&#x09;-- Ajust the life if the given potion is over the current maxlife&#x0A;&#x09;--if (getPlayerLife() &gt; getPropertie(&quot;maxlife&quot;)) then&#x0A;&#x09;--&#x09;setPlayerLife(getPropertie(&quot;maxlife&quot;))&#x0A;&#x09;--&#x09;end&#x0A;&#x09;&#x0A;end&#x0A;&#x0A;-- Called when the game start&#x0A;function onLoad()&#x0A;&#x09;-- Set the display name and show it&#x0A;&#x09;setObjectLabel(&quot;Small health potion&quot;)&#x0A;&#x09;showObjectLabel()&#x0A;end&#x0A;' life="100" />
    </dynamic_objects>
    <global_script script="" />
</IrrRPG_Builder_Project>
